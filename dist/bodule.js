// Generated by CoffeeScript 1.6.1
(function() {
  var Bodule;

  Bodule = (function() {

    Bodule._cache = {};

    Bodule.require = function(id) {
      return this._cache[id].compile();
    };

    Bodule.define = function(id, deps, factory) {
      var bodule;
      bodule = new Bodule(id, deps, factory);
      return this._cache[id] = bodule;
    };

    Bodule._load = function(request, parent) {
      var bodule, caheBodule;
      caheBodule = this._cache[request];
      if (cacheBodule) {
        return cacheBodule.exports;
      }
      bodule = new Bodule(request, parent);
      bodule.load();
      bodule.compile();
      return bodule.exports;
    };

    function Bodule(id, deps, factory) {
      var _ref;
      this.id = id;
      this.deps = parent;
      this.factory = factory;
      this.children = [];
      this.exports = {};
      this.loaded = false;
      if (typeof parent !== "undefined" && parent !== null) {
        if ((_ref = parent.children) != null) {
          _ref.push(this);
        }
      }
      return;
    }

    Bodule.prototype.load = function() {
      /*
      Sync or Async load, base env
      */

    };

    Bodule.prototype.compile = function() {
      var exports, module, require;
      module = {};
      exports = module.exports = this.exports;
      require = Bodule.require;
      this.factory(require, exports, module);
      this.exports = module.exports;
    };

    return Bodule;

  })();

}).call(this);
